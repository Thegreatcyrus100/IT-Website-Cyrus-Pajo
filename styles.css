*{box-sizing:border-box} :root{--bg1:#020204;--bg2:#06130b;--neon:#00ff6a;--neon2:#33ff99;--glass:rgba(255,255,255,0.02);--muted:rgba(255,255,255,0.35);}html,body,#auth-wrap,#home{height:100%}body{margin:0; font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; background:linear-gradient(180deg,var(--bg1),var(--bg2)); color:var(--neon); -webkit-font-smoothing:antialiased; display:flex; align-items:center; justify-content:center; height:100vh}

.stage{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;padding:40px}
.background{position:absolute;inset:0;overflow:hidden;pointer-events:none}
.background canvas#matrix{position:absolute;inset:0;width:100%;height:100%;display:block}
.blob{position:absolute;border-radius:50%;filter:blur(60px);opacity:0.15}
.b1{width:520px;height:520px;left:-10%;top:-10%;background:radial-gradient(circle at 30% 30%,#052e06,transparent 40%)}
.b2{width:420px;height:420px;right:-10%;bottom:-5%;background:radial-gradient(circle at 70% 70%,#01311a,transparent 40%)}
.b3{width:220px;height:220px;left:40%;bottom:60%;background:radial-gradient(circle at 50% 50%,#003b1f,transparent 40%)}

.auth-wrap{position:relative;z-index:3}
.terminal-header{font-family:'Share Tech Mono',monospace;letter-spacing:6px;font-size:14px;padding:8px 16px;margin-bottom:12px;border-radius:6px;background:linear-gradient(90deg,rgba(0,0,0,0.45),rgba(0,0,0,0.15));color:var(--neon);box-shadow:0 6px 40px rgba(0,255,120,0.04);text-transform:uppercase}
.glitch{position:relative}
.glitch::before,.glitch::after{content:attr(data-text);position:absolute;left:0;right:0;opacity:0.75}
.glitch::before{transform:translateX(-2px);color:var(--neon2);mix-blend-mode:screen}
.glitch::after{transform:translateX(2px);color:#00a64d;mix-blend-mode:screen}
.scene{width:380px;height:480px;perspective:1400px}
.card{width:100%;height:100%;position:relative;transform-style:preserve-3d;--rx:0deg;--ry:0deg;--flip:0deg;transition:transform 220ms cubic-bezier(.2,.9,.3,1);transform:translateZ(10px) rotateX(var(--rx)) rotateY(calc(var(--ry) + var(--flip)))}
.face{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.55),rgba(0,0,0,0.4));border:1px solid rgba(0,255,120,0.07);backdrop-filter:blur(6px);border-radius:12px;padding:28px;backface-visibility:hidden;box-shadow:0 18px 50px rgba(0,0,0,0.8);display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}
.face h2{margin:0 0 12px 0;font-weight:600}
.face-front{transform:translateZ(40px)}
.face-back{transform:rotateY(180deg) translateZ(40px)}

.card.flipped{--flip:180deg}

input{appearance:none;border:1px solid rgba(0,255,120,0.08);background:transparent;padding:12px 14px;border-radius:8px;color:var(--neon);margin:10px 0;outline:none;font-size:14px;font-family:monospace}
.btn{display:inline-block;padding:12px 18px;border-radius:8px;border:none;background:linear-gradient(90deg,var(--neon),var(--neon2));color:#00110a;font-weight:700;cursor:pointer;margin-top:10px;box-shadow:0 8px 28px rgba(0,255,120,0.06)}
.btn.primary{background:linear-gradient(90deg,var(--neon2),var(--neon));color:#00110a}
.btn.outline{background:transparent;border:1px solid rgba(0,255,120,0.08);color:var(--neon)}
.muted{color:var(--muted);font-size:13px;margin-top:12px}
.muted a{color:var(--neon);text-decoration:none}

/* inline form messages */
.form-msg{margin-top:10px;font-size:13px}
.form-msg.error{color:#ff6b6b}

/* Modal for forgot password */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:40}
.modal.hidden{display:none}
.modal-panel{background:linear-gradient(180deg,rgba(0,0,0,0.9),rgba(0,0,0,0.8));padding:20px;border-radius:10px;border:1px solid rgba(0,255,120,0.06);width:320px;box-shadow:0 20px 80px rgba(0,0,0,0.8)}
.modal-panel h3{margin:0 0 10px 0;font-family:'Share Tech Mono',monospace}
.modal-panel input{width:100%}
.modal-actions{display:flex;gap:10px;margin-top:12px}
.forgot-result{margin-top:12px;padding-top:10px;border-top:1px dashed rgba(255,255,255,0.03)}
.generated{display:flex;align-items:center;gap:8px;margin-top:8px}
.generated code{background:rgba(0,0,0,0.5);padding:6px 8px;border-radius:6px;color:var(--neon);font-family:monospace}

/* Toast notifications */
.toast-wrap{position:fixed;right:20px;bottom:20px;z-index:60;display:flex;flex-direction:column;gap:8px}
.toast{background:rgba(0,0,0,0.8);color:var(--neon);padding:10px 14px;border-radius:8px;border:1px solid rgba(0,255,120,0.06);box-shadow:0 8px 30px rgba(0,0,0,0.6);font-weight:600}
.toast.success{border-color:rgba(0,200,120,0.16)}
.toast.error{border-color:rgba(255,80,80,0.12);color:#ff9b9b}

/* disabled button */
.btn[disabled]{opacity:0.5;cursor:not-allowed}

/* password strength meter */
.pw-meter{display:flex;align-items:center;gap:10px;margin-top:8px}
.pw-bar{height:8px;flex:1;background:rgba(255,255,255,0.03);border-radius:8px;overflow:hidden}
.pw-seg{height:100%;width:33.333%;float:left;background:transparent}
.pw-weak{background:#ff6b6b}
.pw-medium{background:#ffd166}
.pw-strong{background:#6bff9a}
.pw-label{font-size:13px;color:var(--muted);min-width:72px;text-align:right}

/* password toggle button */
.pw-toggle{background:transparent;border:none;color:var(--neon);cursor:pointer;padding:6px;border-radius:6px}
.pw-toggle:focus{outline:2px solid rgba(0,255,120,0.12)}

/* tiny spinner */
.spinner{display:inline-block;width:14px;height:14px;border-radius:50%;border:2px solid rgba(255,255,255,0.08);border-top-color:var(--neon);animation:spin 800ms linear infinite;vertical-align:middle}
@keyframes spin{to{transform:rotate(360deg)}}

/* Home */
.home{width:100%;max-width:1000px;background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(0,0,0,0.45));border-radius:12px;padding:22px;box-shadow:0 18px 80px rgba(0,0,0,0.75);z-index:3;border:1px solid rgba(0,255,120,0.06)}
.hidden{display:none}
.home-header{display:flex;align-items:center;justify-content:space-between}
.home-card{display:flex;align-items:center;gap:14px}
.avatar{width:64px;height:64px;border-radius:10px;background:linear-gradient(180deg,var(--neon2),var(--neon));display:flex;align-items:center;justify-content:center;font-weight:700;color:#00110a;font-size:20px;box-shadow:0 10px 40px rgba(0,255,120,0.09);transform:translateZ(40px)}
.home-info h1{margin:0}
.home-body{margin-top:22px}
.tiles{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:18px}
.tile{background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.25));padding:18px;border-radius:10px;box-shadow:inset 0 1px 0 rgba(0,0,0,0.06),0 12px 30px rgba(0,0,0,0.7);transform:translateZ(20px);border:1px solid rgba(0,255,120,0.03);cursor:pointer;text-align:center;font-weight:700}
/* ensure tile buttons show readable text and look consistent */
.tile{color:var(--neon);border:none;font-family:inherit}
.tile:focus{outline:2px solid rgba(0,255,120,0.18);outline-offset:4px}
.tile.active{box-shadow:0 18px 60px rgba(0,255,120,0.09);border-color:rgba(0,255,120,0.16);transform:translateZ(28px) scale(1.02)}

.content-panel{margin-top:18px;background:linear-gradient(180deg,rgba(0,0,0,0.35),rgba(0,0,0,0.25));padding:18px;border-radius:10px;min-height:220px;border:1px solid rgba(0,255,120,0.03)}
.panel-row{display:flex;gap:12px;align-items:center}
.field{display:flex;flex-direction:column;margin-bottom:12px}
.field label{font-size:13px;color:var(--muted);margin-bottom:6px}
.field input, .field textarea{padding:10px;border-radius:8px;border:1px solid rgba(0,255,120,0.06);background:transparent;color:var(--neon);font-family:monospace}
.msg-list{display:flex;flex-direction:column;gap:8px;max-height:260px;overflow:auto;padding-right:6px}
.msg{padding:10px;border-radius:8px;background:rgba(0,0,0,0.4);border:1px solid rgba(0,255,120,0.03)}
.small{font-size:13px;color:var(--muted)}

/* Messenger layout */
.messenger{display:grid;grid-template-columns:280px 1fr;gap:12px}
.people-list{background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0.12));padding:12px;border-radius:8px;border:1px solid rgba(0,255,120,0.03);min-height:260px}
.people-list .person{padding:8px;border-radius:8px;display:flex;align-items:center;gap:10px;cursor:pointer}
.people-list .person:hover{background:rgba(0,255,120,0.03)}
.people-list .person.active{background:rgba(0,255,120,0.06);border:1px solid rgba(0,255,120,0.06)}
.people-list .person .p-avatar{width:36px;height:36px;border-radius:6px;background:var(--neon2);color:#00110a;display:flex;align-items:center;justify-content:center;font-weight:700}
.chat-panel{display:flex;flex-direction:column;gap:8px}
.chat-header{display:flex;align-items:center;justify-content:space-between;padding:8px}
.chat-window{background:linear-gradient(180deg,rgba(0,0,0,0.12),rgba(0,0,0,0.06));padding:12px;border-radius:8px;min-height:220px;max-height:360px;overflow:auto}
.chat-msg{margin-bottom:8px;padding:8px;border-radius:8px;max-width:70%}
.chat-msg.me{background:linear-gradient(90deg,var(--neon2),var(--neon));color:#00110a;margin-left:auto}
.chat-msg.they{background:rgba(255,255,255,0.03);border:1px solid rgba(0,255,120,0.03)}
.chat-input{display:flex;gap:8px}
.chat-input textarea{flex:1;resize:vertical;min-height:44px}
.search-input{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--neon);margin-bottom:8px}

/* small screens */
@media (max-width:480px){.scene{width:320px;height:500px}.home{padding:18px}.avatar{width:56px;height:56px}}

/* interactive tilt */
/* .card transform is now driven by CSS variables updated from JS for snappier interactions */

/* scanlines */
.face::after{content:'';position:absolute;inset:0;pointer-events:none;background-image:linear-gradient(rgba(0,0,0,0.02) 50%, transparent 50%);background-size:100% 4px;mix-blend-mode:overlay}
